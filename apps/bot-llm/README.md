# Bot LLM

This project deals with listening to events occuring on the Blockchain and using an LLM service to generate content. 

## Overview

Used with `OnchainRiddle.sol` contract in this project event listeners are started for the `Winner` event. Using a `WebSocketProvider` from ethers.js to listen for events and an Infura Key we can track when someone has solved the riddle on the contract and generate a new one. A new riddle is generated by querying the LLMService with a prompt and calls the contract.


### Structure 

The project has the following structure
 - **root**: main listeners, helper function to take care for retrying to update the smart contract, LLMService interface for possible extensions
 - **openai-llm**: folder containing the implementation of the LLMService interface using OpenAI
 - **riddle**: This contains the code which mediates between the LLMService and the events from the smart contract
 - **lib**: the types for the smartcontract in order to use Typescript efficiently. Ideally should be at @repo level.

 The folder contains also some tests which can be run by executing `pnpm test`.  

 The `.env.example` contains a list of required environment variables needed in order for the process to run. In the root README there are instructions on how to obtain each individual key, if required. It contains also a *Dockerfile* which could be used to start the process in a container. It does however require some configuration in order to work wiht local hardhat node - still work in progress.